/* move.js
 * @author:flfwzgl https://github.com/flfwzgl
 * @copyright: MIT license */
var move={css:function(d,b){if(typeof b==="string"){return d.currentStyle?d.currentStyle[b]:window.getComputedStyle(d,false)[b]}else{if(typeof b==="object"){var c;for(c in b){switch(c){case"width":case"height":case"left":case"top":case"right":case"padding":case"paddingLeft":case"paddingRight":case"paddingTop":case"paddingBottom":case"margin":case"marginLeft":case"marginRight":case"marginTop":case"marginBottom":case"borderRadius":case"borderWidth":if(typeof b[c]==="number"){d.style[c]=b[c]+"px"}else{d.style[c]=b[c]}break;case"opacity":if(+b[c]<0){b[c]=0}d.style.filter="alpha(opacity="+b[c]*100+")";d.style.opacity=b[c];break;default:d.style[c]=b[c]}}}}},init:function(d,b,c){if(!d.ani){d.ani={};d.ani.s0={},d.ani.st={},d.ani.dis={},d.ani.va={},d.ani.v={},d.ani.a={},d.ani.d={},d.ani.res={}}d.aniOver=false;d.ani.time=c||500;d.ani.interval=13;d.ani.total=Math.ceil(d.ani.time/d.ani.interval);d.ani.t=0;var a;for(a in b){d.ani.st[a]=parseFloat(b[a],10)}for(a in d.ani.st){d.ani.s0[a]=parseFloat(move.css(d,a),10);d.ani.dis[a]=d.ani.st[a]-d.ani.s0[a];d.ani.va[a]=d.ani.dis[a]/d.ani.total;d.ani.d[a]=0}},ease:function(e,b,d,c){if(e.aniOver===false){clearInterval(e.ani.timer)}this.init(e,b,d);var a,f=this;for(a in e.ani.st){e.ani.v[a]=0.5*e.ani.va[a];e.ani.a[a]=(3-0.5)*e.ani.va[a]/(0.5*e.ani.total)}e.ani.timer=setInterval(function(){e.ani.t++;for(a in e.ani.st){if(Math.abs(e.ani.d[a])<Math.abs(e.ani.dis[a]/2)){e.ani.v[a]+=e.ani.a[a];e.ani.d[a]+=e.ani.v[a]}else{if(Math.abs(e.ani.d[a])>=Math.abs(e.ani.dis[a]/2)&&Math.abs(e.ani.d[a])<=Math.abs(e.ani.dis[a])){e.ani.v[a]-=e.ani.a[a];e.ani.d[a]+=e.ani.v[a]}}e.ani.res[a]=e.ani.s0[a]+e.ani.d[a];if((e.ani.v[a]>0&&e.ani.res[a]>e.ani.st[a])||(e.ani.v[a]<0&&e.ani.res[a]<e.ani.st[a])){e.ani.res[a]=e.ani.st[a]}if(e.ani.t>e.ani.total){clearInterval(e.ani.timer);e.aniOver=true;break}}move.css(e,e.ani.res);if(e.aniOver&&c){c.call(e)}},e.ani.interval)},easeOut:function(e,b,d,c){if(e.aniOver===false){clearInterval(e.ani.timer)}this.init(e,b,d);var a,f=this;for(a in e.ani.st){e.ani.v[a]=5*e.ani.va[a];e.ani.a[a]=-6*e.ani.va[a]/(0.5*e.ani.total)}e.ani.timer=setInterval(function(){e.ani.t++;for(a in e.ani.st){e.ani.v[a]+=e.ani.a[a];e.ani.d[a]+=e.ani.v[a];e.ani.res[a]=e.ani.s0[a]+e.ani.d[a];if((e.ani.v[a]>0&&e.ani.res[a]>e.ani.st[a])||(e.ani.v[a]<0&&e.ani.res[a]<e.ani.st[a])){for(a in e.ani.res){e.ani.res[a]=e.ani.st[a]}clearInterval(e.ani.timer);e.aniOver=true;break}}move.css(e,e.ani.res);if(e.aniOver&&c){c.call(e)}},e.ani.interval)},collision:function(f,c,e,d){if(f.aniOver===false){clearInterval(f.ani.timer)}this.init(f,c,e);var a,g=this,b;for(a in f.ani.st){f.ani.v[a]=2*f.ani.va[a];f.ani.a[a]=6*f.ani.va[a]/(0.5*f.ani.total)}f.ani.timer=setInterval(function(){f.ani.t++;for(a in f.ani.st){if(f.ani.d[a]===f.ani.dis[a]){f.ani.v[a]*=-0.5}f.ani.v[a]+=f.ani.a[a];f.ani.v[a]*=0.999;b=f.ani.dis[a]-f.ani.d[a];if(b*f.ani.v[a]>0&&Math.abs(b)<Math.abs(f.ani.v[a])){f.ani.d[a]+=b}else{f.ani.d[a]+=f.ani.v[a]}f.ani.res[a]=f.ani.s0[a]+f.ani.d[a];if(f.ani.t>f.ani.total){for(a in f.ani.res){f.ani.res[a]=f.ani.st[a]}clearInterval(f.ani.timer);f.aniOver=true;break}}move.css(f,f.ani.res);if(f.aniOver&&d){d.call(f)}},f.ani.interval)},elastic:function(e,c,d){if(e.aniOver===false){clearInterval(e.ani.timer)}this.init(e,c);var a,f=this,b={};for(a in e.ani.st){e.ani.v[a]=0*e.ani.va[a];b[a]=0.06}e.ani.timer=setInterval(function(){e.ani.t++;for(a in e.ani.st){e.ani.a[a]=(e.ani.dis[a]-e.ani.d[a])*b[a];e.ani.v[a]+=e.ani.a[a];e.ani.v[a]*=0.8;e.ani.d[a]+=e.ani.v[a];e.ani.res[a]=e.ani.s0[a]+e.ani.d[a];if(Math.abs(e.ani.v[a])<=2&&Math.abs(e.ani.dis[a]-e.ani.d[a])<=2){b[a]=0;e.ani.v[a]=0;e.ani.res[a]=e.ani.st[a]}if(e.ani.t>e.ani.total){for(a in e.ani.res){e.ani.res[a]=e.ani.st[a]}clearInterval(e.ani.timer);e.aniOver=true;break}}move.css(e,e.ani.res);if(e.aniOver&&typeof d==="function"){d.call(e)}},e.ani.interval)},common:function(n,o,g,l,p){if(!l){return}var c=13,k=Math.ceil(g/c),f=o-n,j=f/k,e=j*2,m=e/(k/2);var q=0,i=0,h,r=0;var b=setInterval(function(){r++;if(Math.abs(i)<0.5*Math.abs(f)){q+=m}else{if(Math.abs(i)>0.5*Math.abs(f)&&Math.abs(i)<Math.abs(f)){q-=m}}i+=q;h=n+i;if(e>=0&&h>=o||e<0&&h<=o||r>=k){clearInterval(b);h=o;l(h);if(p){p()}}else{l(h)}},c);return true}};