/* move.js
 * @author:flfwzgl https://github.com/flfwzgl
 * @copyright: MIT license */
var move={css:function(a,d){if("string"===typeof d)return a.currentStyle?a.currentStyle[d]:window.getComputedStyle(a,!1)[d];if("object"===typeof d)for(var e in d)switch(e){case "width":case "height":case "left":case "top":case "right":case "padding":case "paddingLeft":case "paddingRight":case "paddingTop":case "paddingBottom":case "margin":case "marginLeft":case "marginRight":case "marginTop":case "marginBottom":case "borderRadius":case "borderWidth":a.style[e]="number"===typeof d[e]?d[e]+"px":d[e];
break;case "opacity":0>+d[e]&&(d[e]=0);a.style.filter="alpha(opacity="+100*d[e]+")";a.style.opacity=d[e];break;default:a.style[e]=d[e]}},init:function(a,d,e){a.ani||(a.ani={},a.ani.s0={},a.ani.st={},a.ani.dis={},a.ani.va={},a.ani.v={},a.ani.a={},a.ani.d={},a.ani.res={});a.aniOver=!1;a.ani.time=e||500;a.ani.interval=13;a.ani.total=Math.ceil(a.ani.time/a.ani.interval);a.ani.t=0;for(var c in d)a.ani.st[c]=parseFloat(d[c],10);for(c in a.ani.st)a.ani.s0[c]=parseFloat(move.css(a,c),10),a.ani.dis[c]=a.ani.st[c]-
a.ani.s0[c],a.ani.va[c]=a.ani.dis[c]/a.ani.total,a.ani.d[c]=0},ease:function(a,d,e,c){!1===a.aniOver&&clearInterval(a.ani.timer);this.init(a,d,e);for(var b in a.ani.st)a.ani.v[b]=.5*a.ani.va[b],a.ani.a[b]=2.5*a.ani.va[b]/(.5*a.ani.total);a.ani.timer=setInterval(function(){a.ani.t++;for(b in a.ani.st){Math.abs(a.ani.d[b])<Math.abs(a.ani.dis[b]/2)?(a.ani.v[b]+=a.ani.a[b],a.ani.d[b]+=a.ani.v[b]):Math.abs(a.ani.d[b])>=Math.abs(a.ani.dis[b]/2)&&Math.abs(a.ani.d[b])<=Math.abs(a.ani.dis[b])&&(a.ani.v[b]-=
a.ani.a[b],a.ani.d[b]+=a.ani.v[b]);a.ani.res[b]=a.ani.s0[b]+a.ani.d[b];if(0<a.ani.v[b]&&a.ani.res[b]>a.ani.st[b]||0>a.ani.v[b]&&a.ani.res[b]<a.ani.st[b])a.ani.res[b]=a.ani.st[b];if(a.ani.t>a.ani.total){clearInterval(a.ani.timer);a.aniOver=!0;break}}move.css(a,a.ani.res);a.aniOver&&c&&c.call(a)},a.ani.interval)},easeOut:function(a,d,e,c){!1===a.aniOver&&clearInterval(a.ani.timer);this.init(a,d,e);for(var b in a.ani.st)a.ani.v[b]=5*a.ani.va[b],a.ani.a[b]=-6*a.ani.va[b]/(.5*a.ani.total);a.ani.timer=
setInterval(function(){a.ani.t++;for(b in a.ani.st)if(a.ani.v[b]+=a.ani.a[b],a.ani.d[b]+=a.ani.v[b],a.ani.res[b]=a.ani.s0[b]+a.ani.d[b],0<a.ani.v[b]&&a.ani.res[b]>a.ani.st[b]||0>a.ani.v[b]&&a.ani.res[b]<a.ani.st[b]){for(b in a.ani.res)a.ani.res[b]=a.ani.st[b];clearInterval(a.ani.timer);a.aniOver=!0;break}move.css(a,a.ani.res);a.aniOver&&c&&c.call(a)},a.ani.interval)},collision:function(a,d,e,c){!1===a.aniOver&&clearInterval(a.ani.timer);this.init(a,d,e);var b,f;for(b in a.ani.st)a.ani.v[b]=2*a.ani.va[b],
a.ani.a[b]=6*a.ani.va[b]/(.5*a.ani.total);a.ani.timer=setInterval(function(){a.ani.t++;for(b in a.ani.st)if(a.ani.d[b]===a.ani.dis[b]&&(a.ani.v[b]*=-.5),a.ani.v[b]+=a.ani.a[b],a.ani.v[b]*=.999,f=a.ani.dis[b]-a.ani.d[b],0<f*a.ani.v[b]&&Math.abs(f)<Math.abs(a.ani.v[b])?a.ani.d[b]+=f:a.ani.d[b]+=a.ani.v[b],a.ani.res[b]=a.ani.s0[b]+a.ani.d[b],a.ani.t>a.ani.total){for(b in a.ani.res)a.ani.res[b]=a.ani.st[b];clearInterval(a.ani.timer);a.aniOver=!0;break}move.css(a,a.ani.res);a.aniOver&&c&&c.call(a)},a.ani.interval)},
elastic:function(a,d,e){!1===a.aniOver&&clearInterval(a.ani.timer);this.init(a,d);var c,b={};for(c in a.ani.st)a.ani.v[c]=0*a.ani.va[c],b[c]=.06;a.ani.timer=setInterval(function(){a.ani.t++;for(c in a.ani.st)if(a.ani.a[c]=(a.ani.dis[c]-a.ani.d[c])*b[c],a.ani.v[c]+=a.ani.a[c],a.ani.v[c]*=.8,a.ani.d[c]+=a.ani.v[c],a.ani.res[c]=a.ani.s0[c]+a.ani.d[c],2>=Math.abs(a.ani.v[c])&&2>=Math.abs(a.ani.dis[c]-a.ani.d[c])&&(b[c]=0,a.ani.v[c]=0,a.ani.res[c]=a.ani.st[c]),a.ani.t>a.ani.total){for(c in a.ani.res)a.ani.res[c]=
a.ani.st[c];clearInterval(a.ani.timer);a.aniOver=!0;break}move.css(a,a.ani.res);a.aniOver&&"function"===typeof e&&e.call(a)},a.ani.interval)},common:function(a,d,e,c,b){if(c){var f=Math.ceil(e/13),m=0;e=(d-a)/f;var g=.5*e,n=2.5*e/(.5*f),l=d-a,h=0,k,p=setInterval(function(){m++;Math.abs(h)<Math.abs(l/2)?(g+=n,h+=g):Math.abs(h)>=Math.abs(l/2)&&Math.abs(h)<=Math.abs(l)&&(g-=n,h+=g);k=a+h;if(0<g&&k>d||0>g&&k<d)k=d;c(k);if(m>f||k===d)clearInterval(p),b&&b()},13)}}};
